<ion-content >
  <ion-fab vertical="top" horizontal="start" slot="fixed"  class="top">
  <ion-header class="opt-top transparent">
      <ion-toolbar class="transparent">
        <div class="ion-activatable ion-activatable-up ripple-toolbar ripple-toolbar-mis" slot="start">
          <fa-icon 
            [icon]="['fas', 'arrow-left']" 
            class="icono-white" 
            (click)="Back()"
          ></fa-icon>
          <ion-ripple-effect></ion-ripple-effect>
        </div>
        <div class="end status" slot="end">
          <ion-label *ngIf="!load"
          class="text-card text-status text-small">
          {{ (userWink && userWink.status ? userWink.status : 'WINK.STATUS.AVAILABLE') | translate}}
        </ion-label>
        </div>
      </ion-toolbar>
    </ion-header>
  </ion-fab>
  <div class="contenedor-card total" *ngIf="load">
    <ion-skeleton-text animated class="public-img img-avatar"></ion-skeleton-text>
    <div class="text-bottom skeleton-content-text">
        <ion-skeleton-text animated class="skeleton-name-public"></ion-skeleton-text>
        <ion-skeleton-text animated class="skeleton-name"></ion-skeleton-text>
    </div>    
    <ion-fab class="button-wink end">
      <ion-avatar class="button-float-skeleton"> 
        <ion-skeleton-text animated></ion-skeleton-text>
      </ion-avatar>
    </ion-fab>
  </div>

  <div class="contenedor-card total" *ngIf="!load">
    <img 
      class="public-img img-avatar"
      (ionError)="ErrorImagen()" 
      [srcPath]="Avatar()">
    <div class="text-bottom">
      <ion-label  class="public-name text-card" >
          {{(userWink ? userWink.firstName + ' ' +  userWink.lastName : 'John Doe') | names:25 }}
      </ion-label>
      <ion-label class="text-card text-small">
          {{userWink ? (userWink.distance | distance) : ''}}
      </ion-label>
    </div>    
    <ion-fab *ngIf="!load && !(load$ | async)" class="button-wink end">
      <div *ngIf="wink" class="end">
          <ion-fab-button *ngIf="!Sended() && !wink.approved" (click)="AceptWink()" size="small" color="primary">
              <ion-icon name="checkmark"></ion-icon>
          </ion-fab-button>
          <ion-fab-button *ngIf="!Sended() && !wink.approved" (click)="DeleteWink()" size="small" color="light">
              <ion-icon name="close"></ion-icon>
          </ion-fab-button>
          <ion-fab-button *ngIf="Sended() && !wink.approved" (click)="CancelWink()" size="small" color="primary">
              <fa-icon 
              [icon]="['far', 'smile-wink']" 
              class="icono-public" 
              ></fa-icon>  
          </ion-fab-button>
      </div>
      <ion-fab-button *ngIf="wink && wink.approved" (click)="GoPrivateProfile()" size="small" color="light">
        <ion-icon name="document"></ion-icon>
      </ion-fab-button>
      <ion-fab-button *ngIf="!wink" (click)="SendWink()"  size="small" color="light"[disabled]="userWink.status === 'WINK.STATUS.BUSY'">
          <fa-icon 
          [icon]="['far', 'smile-wink']" 
          class="icono-public" 
          ></fa-icon>
      </ion-fab-button>
    </ion-fab>
    <ion-fab *ngIf="!load && (load$ | async)"  class="button-wink end" >
      <div *ngIf="wink" class="end">
          <ion-fab-button *ngIf="!Sended() && !wink.approved"  size="small" color="primary">
            <ion-spinner name="bubbles" color="dark"></ion-spinner>
          </ion-fab-button>
          <ion-fab-button *ngIf="!Sended() && !wink.approved" size="small" color="light">
            <ion-spinner name="bubbles" color="dark"></ion-spinner>
          </ion-fab-button>
          <ion-fab-button *ngIf="Sended() && !wink.approved" size="small" color="primary">
            <ion-spinner name="bubbles" color="dark"></ion-spinner>
          </ion-fab-button>
      </div>
      <ion-fab-button *ngIf="wink && wink.approved" size="small" color="light">
        <ion-spinner name="bubbles" color="dark"></ion-spinner>
      </ion-fab-button>
      <ion-fab-button *ngIf="!wink"  size="small" color="light">
        <ion-spinner name="bubbles" color="dark"></ion-spinner>
      </ion-fab-button>
    </ion-fab>
  </div>


  <ion-list *ngIf="load">
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated class="skeleton-label"></ion-skeleton-text>
          <ion-skeleton-text animated class="skeleton-content"></ion-skeleton-text>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated class="skeleton-label"></ion-skeleton-text>
          <ion-skeleton-text animated class="skeleton-content"></ion-skeleton-text>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated class="skeleton-label"></ion-skeleton-text>
          <ion-skeleton-text animated class="skeleton-content"></ion-skeleton-text>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated class="skeleton-label"></ion-skeleton-text>
          <ion-skeleton-text animated class="skeleton-content"></ion-skeleton-text>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-skeleton-text animated></ion-skeleton-text>
        </ion-thumbnail>
        <ion-label>
          <ion-skeleton-text animated class="skeleton-label"></ion-skeleton-text>
          <ion-skeleton-text animated class="skeleton-content"></ion-skeleton-text>
        </ion-label>
      </ion-item>
    </ion-list>
  <ion-list>
    <item-list *ngFor="let item of publicItems"
      [item]="item"></item-list>
    </ion-list>
</ion-content>
